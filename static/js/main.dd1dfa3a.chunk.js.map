{"version":3,"sources":["assets/images/ava-no-image.png","Redux/messagesReducer.js","components/Navbar/Navbar.module.css","api/api.js","components/Sidebar/FriendOnline/FriendsOnline.jsx","components/Sidebar/Sidebar.jsx","components/Sidebar/SidebarContainer.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/News/News.jsx","components/Settings/Settings.jsx","utils/validators/object-helpers.js","Redux/usersReducer.js","components/common/Paginator/Paginator.jsx","assets/images/left-arrow.png","assets/images/right-arrow.png","components/Users/User.jsx","components/Users/Users.jsx","Redux/userSelectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","Redux/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","Redux/appReducer.js","Redux/sidebarReducer.js","Redux/reduxStore.js","hoc/withSuspense.js","App.js","index.js","components/common/FormControls/FormControls.js","utils/validators/validators.js","components/common/FormControls/FormControls.module.css","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/Users/users.module.css","components/Sidebar/FriendOnline/FriendOnline.module.css","components/common/Paginator/Paginator.module.css","components/Sidebar/Sidebar.module.css","components/Header/Header.module.css","Redux/profileReducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","avatar","messages","text","sendMessageActionCreator","newMessageBody","type","messagesReducer","state","action","module","exports","instance","axios","create","withCredentials","baseURL","headers","userAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","userId","post","unfollow","delete","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","authAPI","me","login","email","password","rememberMe","logout","FriendsOnline","props","path","className","s","friend","active","to","activeClassName","activeLink","alt","src","Sidebar","friendsElements","friends","map","f","item","link","SidebarContainer","connect","sidebar","Navbar","nav","store","Music","News","Settings","updateObjectInArray","items","itemId","objPropName","newObjProps","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_COUNT","TODDLE_IS_FETCHING","TODDLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChange","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","user","userPhoto","photos","small","disabled","some","Users","wrapper","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","compose","bind","page","totalCount","Header","header","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","maxLength25","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","createField","Input","required","style","formSummaryError","message","length","stopSubmit","_error","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","messagesPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","render","AppContainer","withRouter","SocNetApp","basename","process","ReactDOM","document","getElementById","FormControl","input","meta","touched","children","hasError","formControl","Textarea","restProps","placeholder","component","validators","validate","value","maxLength","preloader","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likeCount","profile","addPostActionCreator","newPostBody","setStatus","getUserProfile","file","newPost","newPostText","postId"],"mappings":"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","file":"static/js/main.dd1dfa3a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/ava-no-image.6133d125.png\";","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n// const UPDATE_NEW_MESSAGE_TEXT = 'UPDATE-NEW-MESSAGE-TEXT';\r\n\r\nlet initialState = {\r\n        dialogs: [\r\n            {id: 1, name: 'Valera', avatar: 'https://schoolsw3.com/tryit/avatar.png'},\r\n            {id: 2, name: 'Sveta', avatar: 'https://html5css.ru/howto/img_avatar2.png'},\r\n            {id: 3, name: 'Anna', avatar: 'https://html5css.ru/w3images/avatar6.png'},\r\n            {id: 4, name: 'Ivan', avatar: 'https://schoolsw3.com/tryit/avatar.png'},\r\n            {id: 5, name: 'Lena', avatar: 'https://html5css.ru/howto/img_avatar2.png'}\r\n        ],\r\n        messages: [\r\n            {id: 1, text: 'Hi! How are you doing?'},\r\n            {id: 2, text: 'What`s new?'},\r\n            {id: 3, text: 'Hi man, I`m very well, thanks!'}\r\n        ]\r\n}\r\n\r\nexport const messagesReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            // let newMessage = {id: 4, text: state.newMessageText}\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, text: action.newMessageBody}],\r\n            };\r\n            // stateCopy.messages = [...state.messages];\r\n            // stateCopy.messages.push(newMessage);\r\n            // stateCopy.newMessageText = '';\r\n            // return stateCopy;\r\n\r\n        // case UPDATE_NEW_MESSAGE_TEXT:\r\n        //     return {\r\n        //         ...state,\r\n        //         newMessageText: action.newText\r\n        //     }\r\n        // ;\r\n            // stateCopy.newMessageText = action.newText;\r\n            // return stateCopy;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n    // if (action.type === SEND_MESSAGE) {\r\n    //     let newMessage = {\r\n    //         id: 4,\r\n    //         text: state.newMessageText\r\n    //     }\r\n    //     state.messages.push(newMessage);\r\n    //     state.newMessageText = '';\r\n    // } else if (action.type === UPDATE_NEW_MESSAGE_TEXT) {\r\n    //     state.newMessageText = action.newText;\r\n    // }\r\n    //\r\n    // return state;\r\n}\r\n\r\nexport const sendMessageActionCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\n// export const updateNewMessageTextActionCreator = (message) => ({type: UPDATE_NEW_MESSAGE_TEXT, newText: message});\r\n\r\nexport default messagesReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2k79z\",\"item\":\"Navbar_item__2cM7E\",\"activeLink\":\"Navbar_activeLink__3olKe\"};","import axios from \"axios\";\r\n\r\nexport const instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        'API-KEY': '9144d965-ca3d-4806-92f7-a7c36ccf9b71'\r\n    }\r\n})\r\n\r\nexport const userAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please use profileAPI object.')\r\n        return profileAPI.getProfile(userId);\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status: status});\r\n    },\r\n    savePhoto(photoFile) {\r\n        const formData = new FormData();\r\n        formData.append('image', photoFile)\r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`);\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe});\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import s from './FriendOnline.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst FriendsOnline = (props) => {\r\n\r\n    let path = '/dialogs/' + props.id;\r\n\r\n    return (\r\n        <div className={s.friend + ' ' + s.active}>\r\n            <NavLink to={path} activeClassName={s.activeLink}>\r\n                <img alt='avatar-img' src={props.avatar}/>\r\n                {props.name}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FriendsOnline;","import s from './Sidebar.module.css';\r\nimport FriendsOnline from \"./FriendOnline/FriendsOnline\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Sidebar = (props) => {\r\n\r\n    let friendsElements = props.friends.map(f => <FriendsOnline\r\n        id={f.id}\r\n        key={f.id}\r\n        name={f.name}\r\n        avatar={f.avatar}\r\n    />)\r\n\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.link}>\r\n                <NavLink to='/users'>Online</NavLink>\r\n            </div>\r\n            <div>\r\n                {friendsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;","// import StoreContext from \"../../StoreContext\";\r\nimport Sidebar from \"./Sidebar\";\r\nimport {connect} from \"react-redux\";\r\n\r\n// const SidebarContainer = () => {\r\n//\r\n//     return (\r\n//         <StoreContext.Consumer>\r\n//             {(store) => {\r\n//\r\n//                 let state = store.getState();\r\n//\r\n//                 return <Sidebar friends={state.sidebar.friends}/>\r\n//                 }\r\n//             }\r\n//         </StoreContext.Consumer>\r\n//     )\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.sidebar.friends\r\n    }\r\n}\r\n\r\n const SidebarContainer = connect(mapStateToProps) (Sidebar)\r\n\r\nexport default SidebarContainer;","import s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Sidebar from \"../Sidebar/Sidebar\";\r\nimport SidebarContainer from \"../Sidebar/SidebarContainer\";\r\n\r\nconst Navbar = (props) => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.activeLink}>Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={s.activeLink}>Messages</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/users' activeClassName={s.activeLink}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.activeLink}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.activeLink}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.activeLink}>Settings</NavLink>\r\n            </div>\r\n            <div>\r\n                <SidebarContainer store={props.store}/>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;\r\n\r\n// 20L - вместо <a> используем <NavLink>, чтобы при переключении навигации не перегружалась страница\r\n// создаем activeClassName чтобы активная ссылка active, которую мы назвали activeLink, подсвечивалась другим цветом","import s from './Music.module.css';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import s from './News.module.css';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import s from './Settings.module.css';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {userAPI} from \"../api/api\";\r\nimport {updateObjectInArray} from \"../utils/validators/object-helpers\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_TOTAL_COUNT = 'SET-TOTAL-COUNT';\r\nconst TODDLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\r\nconst TODDLE_IS_FOLLOWING_PROGRESS = 'TODDLE-IS-FOLLOWING-PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [\r\n        // {\r\n        //     id: 1,\r\n        //     photoUrl: 'https://schoolsw3.com/tryit/avatar.png',\r\n        //     followed: false,\r\n        //     fullName: 'Oleg',\r\n        //     status: 'I want to eat',\r\n        //     location: {country: 'Ukraine', city: 'Odesa'}\r\n        // },\r\n        // {\r\n        //     id: 2,\r\n        //     photoUrl: 'https://html5css.ru/howto/img_avatar2.png',\r\n        //     followed: true,\r\n        //     fullName: 'Alla',\r\n        //     status: 'Teaching is my passion',\r\n        //     location: {country: 'Ukraine', city: 'Korosten'}\r\n        // },\r\n        // {\r\n        //     id: 3,\r\n        //     photoUrl: 'https://schoolsw3.com/tryit/avatar.png',\r\n        //     followed: false,\r\n        //     fullName: 'Alex',\r\n        //     status: 'Like to read books',\r\n        //     location: {country: 'United Kingdom', city: 'London'}\r\n        // }\r\n    ],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\r\n                // state.users.map((u) => {\r\n                // if (u.id === action.userId) {\r\n                //     return {...u, followed: true}\r\n                // }\r\n                // return u;\r\n                // })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users}\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage}\r\n        case SET_TOTAL_COUNT:\r\n            return {...state, totalUsersCount: action.count}\r\n        case TODDLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TODDLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId});\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_COUNT, count: totalUsersCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TODDLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TODDLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page))\r\n\r\n    let data = await userAPI.getUsers(page, pageSize);\r\n\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n\r\n    let response = await apiMethod(userId);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId));\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.follow.bind(userAPI), followSuccess);\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollowFlow(dispatch, userId, userAPI.unfollow.bind(userAPI), unfollowSuccess)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import styles from \"../Paginator/Paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport cn from \"classnames\";\r\nimport arrowLeft from \"../../../assets/images/left-arrow.png\";\r\nimport arrowRight from \"../../../assets/images/right-arrow.png\";\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChange, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={styles.paginator}>\r\n            {portionNumber > 1 &&\r\n            <button onClick={ () => {\r\n                setPortionNumber(portionNumber - 1)\r\n            }}>\r\n                <img src={arrowLeft}/>\r\n            </button>}\r\n\r\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map((p) => {\r\n                return <span className={cn({[styles.selectedPage]: currentPage === p}, styles.pageNumber)}\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChange(p)\r\n                             }}>{p}</span>\r\n            })}\r\n            {portionCount > portionNumber &&\r\n            <button onClick={ () => {setPortionNumber(portionNumber + 1)} }>\r\n                <img src={arrowRight}/>\r\n            </button>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator;","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import styles from \"./users.module.css\";\r\nimport userPhoto from \"../../assets/images/ava-no-image.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, unfollow, follow}) => {\r\n    return (\r\n        <div>\r\n                <span>\r\n                    <div className={styles.userPhoto}>\r\n                        <NavLink to={'/profile/' + user.id}>\r\n                            <img alt='avatar-photo' src={user.photos.small != null ? user.photos.small : userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                unfollow(user.id);\r\n                            }}>\r\n                                Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n                                follow(user.id);\r\n                            }}>\r\n                                Follow</button>}\r\n                    </div>\r\n                </span>\r\n            <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import styles from \"./users.module.css\";\r\nimport React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({currentPage, onPageChange, totalUsersCount, pageSize, users, ...props}) => {\r\n    return (\r\n        <div className={styles.wrapper}>\r\n\r\n            <Paginator\r\n                currentPage={currentPage}\r\n                onPageChange={onPageChange}\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n            />\r\n            <div>\r\n                {\r\n                    users.map(u => <User\r\n                            user={u}\r\n                            key={u.id}\r\n                            followingInProgress={props.followingInProgress}\r\n                            unfollow={props.unfollow}\r\n                            follow={props.follow}\r\n                        />\r\n                    )\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n};\r\n\r\n\r\nexport const getUsers = createSelector(getUsersSelector,(users) => {\r\n   return users.filter( u => true);\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n};\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n};\r\n","import {connect} from \"react-redux\";\r\nimport {follow, requestUsers, setCurrentPage, toggleFollowingProgress, unfollow} from \"../../Redux/usersReducer\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\"\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount, getUsers\r\n} from \"../../Redux/userSelectors\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChange = (pageNumber) => {\r\n        let {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChange={this.onPageChange}\r\n                users={this.props.users}\r\n                follow={this.props.follow}\r\n                unfollow={this.props.unfollow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow,\r\n        unfollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress,\r\n        getUsers: requestUsers\r\n    }),\r\n)(UsersContainer)","import s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src='https://i.ibb.co/yRBGCQd/d5b9c7f1db5d414b93a6b44ad38e0409.png' alt='symbol-img'/>\r\n            <div className={s.loginBlock}>\r\n                {props.isAuth ?\r\n                    <div>{props.login} - <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n\r\n","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst SET_USER_DATA = 'socNet/auth/SET-USER-DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        let {id, login, email} = response.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n        dispatch(stopSubmit('login', {_error: message}));\r\n    }\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\n// export const toggleIsFetching = (isFetching) => ({type: TODDLE_IS_FETCHING, isFetching});\r\n\r\nexport default authReducer;","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/authReducer\";\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\nexport default connect (mapStateToProps, {logout}) (HeaderContainer);\r\n\r\n","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FormControls/FormControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/authReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport style from \"../common/FormControls/FormControls.module.css\";\r\n\r\nconst maxLength25 = maxLengthCreator(25)\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {createField('Email', 'email', Input, [required])}\r\n            {createField('Password', 'password', Input, [required, maxLength25], {type: 'password'})}\r\n            {createField(null, 'rememberMe', Input, [], {type: 'checkbox'}, 'remember me')}\r\n\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({\r\n    form: 'login'\r\n})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login})(Login);","import {getAuthUserData} from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS});\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n\r\n    let promise = dispatch(getAuthUserData());\r\n\r\n    promise.then( () => {\r\n        dispatch(initializedSuccess());\r\n    });\r\n}\r\n\r\nexport default appReducer;","\r\nlet initialState = {\r\n        friends: [\r\n            {id: 2, name: 'Sveta', avatar: 'https://html5css.ru/howto/img_avatar2.png'},\r\n            {id: 1, name: 'Valera', avatar: 'https://schoolsw3.com/tryit/avatar.png'},\r\n            {id: 3, name: 'Anna', avatar: 'https://html5css.ru/w3images/avatar6.png'},\r\n        ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport messagesReducer from \"./messagesReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    messagesPage: messagesReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nwindow.__store__ = store;\r\n\r\nexport default store;","import React, {Suspense} from \"react\";\r\n\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <Suspense fallback={<div>Loading...</div>}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    };\r\n}","import './App.css';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\"\nimport Music from \"./components/Music/Music\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport React, {Component} from \"react\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/appReducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./Redux/reduxStore\";\nimport {Suspense} from \"react\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends Component {\n\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar\n                    // state={props.state}\n                />\n                <div className='app-wrapper-content'>\n                    <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n                    <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)}/>\n                    <Route path='/users' render={() => <UsersContainer/>}/>\n                    <Route path='/music' render={() => <Music/>}/>\n                    <Route path='/news' render={() => <News/>}/>\n                    <Route path='/settings' render={() => <Settings/>}/>\n                    <Route path='/login' render={() => <Login/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp}))(App);\n\nconst SocNetApp = (props) => {\n    return <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Provider store={store}>\n            <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n}\n\nexport default SocNetApp;\n\n// 19L - 'react-router-dom -save' - установка роутинга. Пишем роуты, обрамляем в браузер роутер\n// 26-27L - меняем component на render, чтобы можно было прокинуть пропсы\n// 30L - оборачиваем браузер роутер арр в файле индекс, тут убираем","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocNetApp from \"./App\";\n\n// let rerenderEntireTree = (props) => {\n    ReactDOM.render(<SocNetApp/>, document.getElementById('root'));\n// }\n\n// rerenderEntireTree(store.getState());\n\n// store.subscribe(() => {\n//         let state = store.getState();\n//         rerenderEntireTree(state);\n//     }\n// )\n\n\n// 29L - выносим данные в файл state, импортируем его тут и передаем в App и другие компоненты через пропсы\n// 37L - используя bind - привязываем this к определенному объекту\n// 37L - заменяем все вызовы на один dispatch и дальше прокидываем по всему дереву, удаляя все лишнее\n// 47L - убираем функцию subscribe и последующую перерисовку","import styles from \"./FormControls.module.css\"\r\nimport {Field} from \"redux-form\";\r\nimport {required} from \"../../../utils/validators/validators\";\r\nimport React from \"react\";\r\n\r\nconst FormControl = ({input, meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const {input, meta, ...restProps} = props;\r\n\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const {input, meta, ...restProps} = props;\r\n\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, component, validators, props = {}, text = '') => {\r\n    return (\r\n        <div>\r\n            <Field\r\n                placeholder={placeholder}\r\n                name={name}\r\n                component={component}\r\n                validate={validators}\r\n                {...props}\r\n            /> {text}\r\n        </div>\r\n    )\r\n}","\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__17vNg\",\"error\":\"FormControls_error__1dlA0\",\"formSummaryError\":\"FormControls_formSummaryError__3YBxS\"};","export default __webpack_public_path__ + \"static/media/preloader.b767aab4.svg\";","import preloader from \"../../../assets/images/preloader.svg\";\r\nimport React from \"react\";\r\n\r\nconst Preloader = (props) => {\r\n    return (\r\n        <div>\r\n            <img alt='preloader' src={preloader}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"users_userPhoto__2jNyV\",\"wrapper\":\"users_wrapper__5BsOb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"FriendOnline_friend__240gN\",\"activeLink\":\"FriendOnline_activeLink__3bs0B\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1c512\",\"paginator\":\"Paginator_paginator__3yLcM\",\"pageNumber\":\"Paginator_pageNumber__1IZaK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Sidebar_item__20H_b\",\"link\":\"Sidebar_link__1n41v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__39x5o\",\"loginBlock\":\"Header_loginBlock__3S6Vi\"};","import {profileAPI, userAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\n// const UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT';\r\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS';\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'It`s my life', likeCount: 46},\r\n        {id: 2, message: 'How much is the fish?', likeCount: 38},\r\n        {id: 3, message: 'You are my heart...', likeCount: 35}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostBody, // - запрашиваем значение из state\r\n                likeCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                newPostText: '',\r\n                posts: [...state.posts, newPost]\r\n            };\r\n            // stateCopy.posts = [...state.posts];\r\n            // stateCopy.posts.push(newPost);\r\n            // stateCopy.newPostText = ''; // - зануляем строку после ввода\r\n            // return stateCopy;\r\n        }\r\n        // case UPDATE_NEW_POST_TEXT: {\r\n        //     return {...state, newPostText: action.newText};\r\n        //     // stateCopy.newPostText = action.newText;\r\n        //     // return stateCopy;\r\n        // }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case DELETE_POST: {\r\n            return {...state, posts: state.posts.filter(p => p.id != action.postId)}\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n    // if (action.type === ADD_POST) {\r\n    //     let newPost = {\r\n    //         id: 5,\r\n    //         message: state.newPostText, // - запрашиваем значение из state\r\n    //         likeCount: 0\r\n    //     }\r\n    //     state.posts.push(newPost);\r\n    //     state.newPostText = ''; // - зануляем строку после ввода\r\n    // } else if (action.type === UPDATE_NEW_POST_TEXT) {\r\n    //     state.newPostText = action.newText;\r\n    // }\r\n    //\r\n    // return state;\r\n}\r\n\r\nexport const addPostActionCreator = (newPostBody) => ({type: ADD_POST, newPostBody});\r\n// export const updateNewPostTextActionCreator = (text) => ({type: UPDATE_NEW_POST_TEXT, newText: text});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId});\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos});\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await userAPI.getProfile(userId);\r\n\r\n    dispatch(setUserProfile(response.data))\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n\r\n    dispatch(setStatus(response.data))\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status));\r\n    }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos));\r\n    }\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}